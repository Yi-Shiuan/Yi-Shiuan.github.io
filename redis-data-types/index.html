<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.24.53"/><title data-react-helmet="true"></title><link as="script" rel="preload" href="/webpack-runtime-1727a2eaeb65e9ff4f8a.js"/><link as="script" rel="preload" href="/framework-fca5a6c89ebf46562859.js"/><link as="script" rel="preload" href="/app-4fadedd8f824b71dea92.js"/><link as="script" rel="preload" href="/component---src-posts-redis-data-types-index-mdx-5c8ff9a3e4738dc6e191.js"/><link as="fetch" rel="preload" href="/page-data/redis-data-types/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><h1>Redis DataType 介紹</h1><h2>前言</h2><p>這篇文章其實是以前在整理Redis的文件時所做的一些資料，再拿出來寫是因為現在同事剛好也需要這樣的資訊。</p><p>Redis在4.0之前其實只有5個資料型態，不過到了現在新的版本多了一些不同的形態如stream, geo等等，不過本篇只會針對原有的string, sort set,
hash set, set, list這五個形態來做說明。</p><h3>String 型別</h3><p>String 型態可以存放 binary, string, integer, float資料，在官網的說明是最基礎的型態，單一個Key可以存放月512MB的資料。</p><blockquote><p>Strings are the most basic kind of Redis value. Redis Strings are binary safe,
this means that a Redis string can contain any kind of data, for instance a JPEG image or a serialized Ruby object.</p><p><a href="https://redis.io/topics/data-types">redis 官方網站</a></p></blockquote><h4>String 使用的幾個場景介紹</h4><ol><li>圖片快取 （使用binary）</li><li>Configuration</li><li>累計次數、觀看累計次數</li></ol><blockquote><p>不過根據我的使用經驗來說，資料量在1Kb內擁有較好的網路傳輸，當今天你存放的string資料大於1kb，我建議轉換成binary資料，透過Gzip做壓縮
才存放到Redis中才會有較好的快取效果</p></blockquote><h3>HashSet</h3><p>Hash set是用來存放一組相同性質的資料，這些資料HashSet(or Dictionary)或是物件的某一屬性，與String較為不同的是他可以取回單一個欄位資料
但String必須取回所有資料（若透過Redis module可以取得Json特定的資料），單一個Key可以存放2<sup>32</sup> - 1的資料欄位，</p><blockquote><p>Redis Hashes are maps between string fields and string values, so they are the perfect data type to represent objects
(e.g. A User with a number of fields like name, surname, age, and so forth):</p><p><a href="https://redis.io/topics/data-types">redis 官方網站</a></p></blockquote><h4>Hashes的使用場景</h4><ol><li>每次只需要取用一部分的資料</li><li>C#的Dictionary或HashSet資料型態</li></ol><h3>List</h3><p>List 資料型態可以想像成程式語言中的Array物件或是你可以把它時作成Queue或是Stack的物件。List 單一個Key可以存放2<sup>32</sup> - 1</p><blockquote><p>Redis Lists are simply lists of strings, sorted by insertion order.
It is possible to add elements to a Redis List pushing new elements on the head (on the left) or on the tail (on the right) of the list.</p><p><a href="https://redis.io/topics/data-types">redis 官方網站</a></p></blockquote><h4>List的使用場景</h4><ul><li>List 物件</li><li>無序資料</li><li>Queue 物件</li><li>Stack 物件</li><li>Array 物件</li></ul><h3>Set</h3><p>類似於List的資料格式但不能存入相同的資料，所以內容是不能重複的預設也不會幫你排序，Sets 單一個Key可以存放2<sup>32</sup> - 1</p><h4>Set的使用場景</h4><ol><li>文章中的Tag標籤</li><li>用來排除相同資料</li></ol><h3>Sorted Set</h3><p>Sorted Set從名字就可以知道他是一個<strong>經過</strong>排序的Set所以當你每次有資料異動時都會自動的為你重新排序採用的是快速排序的演算法，
這個資料結構可以說是Redis操作的時候成本最高的一個結構吧！通常的時間成本是<strong>O(log(N))</strong>N為Key所存放的資料總量，另外他跟Set很相似內容是不能重複的</p><blockquote><p>Redis Sorted Sets are, similarly to Redis Sets, non repeating collections of Strings.
The difference is that every member of a Sorted Set is associated with score,
that is used in order to take the sorted set ordered, from the smallest to the greatest score.
While members are unique, scores may be repeated.</p><p><a href="https://redis.io/topics/data-types">redis 官方網站</a></p></blockquote><h4>Sorted Set的使用場景</h4><p>其實也沒什麼好說的，需要有序的資料用他準沒錯</p><h3>其他</h3><p>其他資料還有Bitmaps, HyperLogLogs, geo, stream等等，目前我也沒有實際使用過，所以就不在此介紹了</p><h3>參考連結</h3><p><a href="https://redis.io/topics/data-types">Redis Data Types</a></p></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/redis-data-types/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-5174109e5e45abad2cd8.js"],"app":["/app-4fadedd8f824b71dea92.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-e5c6ea8e84e61f75514d.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-9c1ed31b610d5b690b65.js"],"component---src-pages-friends-tsx":["/component---src-pages-friends-tsx-3dd78a20f486f0d1c369.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-a37da26840c525702480.js"],"component---src-pages-posts-tsx":["/component---src-pages-posts-tsx-bf64e32da6ceefda0086.js"],"component---src-pages-tags-tsx":["/component---src-pages-tags-tsx-a26309a6e3e819ae2d36.js"],"component---src-posts-ecs-deploy-preparing-index-mdx":["/component---src-posts-ecs-deploy-preparing-index-mdx-bfddfa1977bb819ae5c6.js"],"component---src-posts-jenkins-selenium-grid-index-mdx":["/component---src-posts-jenkins-selenium-grid-index-mdx-8321ec34bf2a9083281f.js"],"component---src-posts-protobuf-first-meet-index-mdx":["/component---src-posts-protobuf-first-meet-index-mdx-8dfb691d66e383c0fac0.js"],"component---src-posts-protobuf-serialize-and-deserialize-index-mdx":["/component---src-posts-protobuf-serialize-and-deserialize-index-mdx-798851ade757f2ab6db2.js"],"component---src-posts-redis-data-types-index-mdx":["/component---src-posts-redis-data-types-index-mdx-5c8ff9a3e4738dc6e191.js"],"component---src-posts-redis-pub-sub-application-notification-index-mdx":["/component---src-posts-redis-pub-sub-application-notification-index-mdx-a2d63d15ba9fab44ab3c.js"]};/*]]>*/</script><script src="/polyfill-5174109e5e45abad2cd8.js" nomodule=""></script><script src="/component---src-posts-redis-data-types-index-mdx-5c8ff9a3e4738dc6e191.js" async=""></script><script src="/app-4fadedd8f824b71dea92.js" async=""></script><script src="/framework-fca5a6c89ebf46562859.js" async=""></script><script src="/webpack-runtime-1727a2eaeb65e9ff4f8a.js" async=""></script></body></html>